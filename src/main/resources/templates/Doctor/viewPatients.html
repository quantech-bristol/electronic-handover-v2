<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head th:include="fragments/header :: head (title='Patient')">
</head>

<body>
<div th:replace="fragments/header :: header">&nbsp;</div>
<div th:replace="fragments/layout :: sidebar">&nbsp;</div>
<div id="mainwindow" class="mainwindow">
    <div id="topbar">
        My Patients
    </div>

    <div id="bodywrap">
        <a href="/patient/all?sortBy=lastName">Sort by last name (A to Z)</a>
        <a href="/patient/all?sortBy=firstName">Sort by first name (A to Z)</a>
        <a href="/quantech">Return home</a>
        <!-- Accordion -->
        <div class="ac-container agileits w3layouts">
            <div  th:each="patient,iterStat : ${patients}">
                <input th:id="'ac-' + ${iterStat.count}" name="accordion-1" type="checkbox" />
                <label th:for="'ac-' + ${iterStat.count}" th:class="'grid1'  + ${iterStat.count}">Bed <span th:text="${patient.bed}"/> , <span th:text="${patient.title}"/>  <span th:text="${patient.firstName}"/> <span th:text="${patient.lastName}"/> <div id="rightalign"><i class="fa fa-exclamation-triangle" aria-hidden="true" style="color:orange;font-size:1.8vw;text-decoration: none;"></i></div></label>
                <article class="ac-small agileits w3layouts">
                    <table class="patient-info-table">
                        <tr>
                            <td>Date of Birth: <span th:text="${patient.birthDate}"/></td>
                            <td>NHS Number: <span th:text="${patient.nHSNumber}"/></td>
                            <td>Hospital Number: <span th:text="${patient.hospitalNumber}"/></td>
                        </tr>
                        <tr><td colspan="3">Diagnosis: <span th:text="${patient.diagnosis}"/></td></tr>
                        <tr><td colspan="3">Relevant History: <span th:text="${patient.relevantHistory}"/></td></tr>
                        <tr><td colspan="3">Recommendations: <span th:text="${patient.recommendations}"/></td></tr>
                        <tr><td colspan="3">Risks: <span th:text="${patient.risks}"/></td></tr>
                        <tr><td colspan="3"><a th:href="@{/patient/hospitalNumber=} + ${patient.hospitalNumber}">Click For Detail View</a></td></tr>
                    </table>
                </article>
            </div>
        </div>
        <!-- //Accordion -->
        <a style="width: 10vw;" class="btn btn-default" href="/addPatient">Add a new patient</a>
        <br/><br/>
        <form th:action="@{/pdf/all}" method="get">
            <input class="btn" style="width: 10vw;" type="submit" value="View all as PDF"/>
        </form>
    </div>
</div>
<div th:replace="fragments/footer :: footer">...</div>
</body>
</html>